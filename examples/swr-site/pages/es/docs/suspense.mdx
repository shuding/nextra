import { Callout } from 'nextra/components'

# Suspense

<Callout emoji="游뚿" type="error">
  Suspense es actualmente una caracter칤stica <strong>experimental</strong> de
  React. Estas APIs pueden cambiar significativamente y sin previo aviso antes
  de que se conviertan en parte de React.
  <br />
  [M치s informaci칩n](https://reactjs.org/docs/concurrent-mode-suspense.html)
</Callout>

<Callout>
  Tenga en cuenta que React Suspense a칰n no es compatible con el modo SSR.
</Callout>

Puede activar la opci칩n `suspense` para utilizar SWR con React Suspense:

```jsx
import { Suspense } from 'react'
import useSWR from 'swr'

function Profile() {
  const { data } = useSWR('/api/user', fetcher, { suspense: true })
  return <div>hello, {data.name}</div>
}

function App() {
  return (
    <Suspense fallback={<div>loading...</div>}>
      <Profile />
    </Suspense>
  )
}
```

<Callout>
  Tenga en cuenta que la opci칩n `suspense` no puede cambiar en el ciclo de vida.
</Callout>

En el modo Suspense, `data` es siempre la respuesta fetch (por lo que no es
necesario comprobar si es `undefined`). Pero si se produce un error, es
necesario utilizar un
[error boundary](https://reactjs.org/docs/concurrent-mode-suspense.html#handling-errors)
para atraparlo:

```jsx
<ErrorBoundary fallback={<h2>Could not fetch posts.</h2>}>
  <Suspense fallback={<h1>Loading posts...</h1>}>
    <Profile />
  </Suspense>
</ErrorBoundary>
```

---

### Note: With Conditional Fetching

Normalmente, cuando se habilita `suspense` se garantiza que `data` siempre
estar치n lista al renderizar:

```jsx
function Profile() {
  const { data } = useSWR('/api/user', fetcher, { suspense: true })

  // `data` nunca sera `undefined`
  // ...
}
```

Sin embargo, cuando se utiliza junto con el conditional fetching o dependent
fetching, `data` estar치 `undefined` si la solicitud est치 **paused**:

```jsx
function Profile() {
  const { data } = useSWR(isReady ? '/api/user' : null, fetcher, {
    suspense: true
  })

  // `data` ser치 `undefined` si `isReady` es false
  // ...
}
```

Si quiere leer m치s detalles t칠cnicos sobre esta restricci칩n, consulte
[la discusi칩n aqu칤](https://github.com/vercel/swr/pull/357#issuecomment-627089889).
